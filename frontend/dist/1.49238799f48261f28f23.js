webpackJsonp([1],{482:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(520),a=n.n(i);for(var s in i)"default"!==s&&function(t){n.d(e,t,function(){return i[t]})}(s);var r=n(555);var u=function(t){n(542)},o=n(16)(a.a,r.a,!1,u,null,null);e.default=o.exports},511:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,a=n(10),s=(i=a)&&i.__esModule?i:{default:i},r=n(23);e.default={props:["admin","about"],data:function(){return{aboutEdit:!1,newAbout:""}},methods:(0,s.default)({},(0,r.mapActions)("resume",["saveResume"]),(0,r.mapMutations)("resume",["UPDATE_RESUME"]),{save:function(){this.saveResume({name:"resume",data:{value:this.newAbout}}),this.UPDATE_RESUME({value:this.newAbout}),this.aboutEdit=!1,this.newAbout=""}})}},512:function(t,e,n){t.exports={default:n(526),__esModule:!0}},518:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(511),a=n.n(i);for(var s in i)"default"!==s&&function(t){n.d(e,t,function(){return i[t]})}(s);var r=n(524);var u=function(t){n(522)},o=n(16)(a.a,r.a,!1,u,null,null);e.default=o.exports},519:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{title:{type:String},className:{type:String}}}},520:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=d(n(10)),a=n(23),s=d(n(521)),r=d(n(538)),u=d(n(518)),o=d(n(544)),c=d(n(551));function d(t){return t&&t.__esModule?t:{default:t}}e.default={initialMutations:["resume/RESET_RESUME"],asyncData:function(t,e){var n=t.store,i=t.route;return n.dispatch("resume/getResume",{user_id:i.params.id})},components:{ButtonBlock:r.default,AboutBlock:u.default,EducationBlock:o.default,JobBlock:c.default},data:function(){return{expTitle:["год","года","лет"]}},computed:(0,i.default)({},(0,a.mapState)("profile",["user_profile"]),(0,a.mapState)("user",["user"]),(0,a.mapState)("resume",["resume","education","job"])),methods:(0,i.default)({},(0,a.mapMutations)("resume",["ADD_EDUCATION","ADD_JOB"]),{addEducation:function(){var t=this.education;for(var e in t)if(t[e].edit)return!1;this.ADD_EDUCATION(Object.cloneDeep(s.default))},addJob:function(){var t=this.job;for(var e in t)if(t[e].edit)return!1;this.ADD_JOB(Object.cloneDeep(s.default))},returnExperience:function(){var t=0;this.job.map(function(e){t+=e.childs[0].date-e.childs[1].date});var e=this.expTitle[t%100>4&&t%100<20?2:[2,0,1,1,1,2][t%10<5?t%10:5]];return"(опыт "+t+" "+e+")"}})}},521:function(t,e){t.exports={childs:[{date:"",name:""},{date:"",name:""}],edit:!0}},522:function(t,e,n){var i=n(523);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n(508)("77679b00",i,!0,{})},523:function(t,e,n){(t.exports=n(507)(!1)).push([t.i,"",""])},524:function(t,e,n){"use strict";var i={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"resume-block"},[n("div",{staticClass:"resume-block__title"},[t._v("\n    О себе\n    "),t.admin?n("a",{attrs:{href:"/edit",title:"Редактировать"},on:{click:function(e){e.preventDefault(),t.aboutEdit=!0,t.newAbout=t.about}}},[n("img",{attrs:{src:"/img/icons/edit.png"}})]):t._e()]),n("div",{staticClass:"resume-block__text"},[t.aboutEdit?n("div",[n("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:t.newAbout,expression:"newAbout",modifiers:{trim:!0}}],attrs:{col:"3"},domProps:{value:t.newAbout},on:{input:function(e){e.target.composing||(t.newAbout=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),n("div",{staticClass:"save-btns"},[n("div"),n("div",{staticClass:"save-btns__right"},[n("button",{staticClass:"btn addNew",on:{click:function(e){t.aboutEdit=!1}}},[t._v("\n            Отмена\n          ")]),n("button",{staticClass:"btn infoBtn",on:{click:function(e){return t.save()}}},[t._v("\n            Сохранить\n          ")])])])]):n("div",[n("p",[t._v("\n        "+t._s(t.about)+"\n      ")])])])])},staticRenderFns:[]};e.a=i},525:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=u(n(512)),a=u(n(10)),s=n(23),r=u(n(527));function u(t){return t&&t.__esModule?t:{default:t}}e.default={props:["data","admin"],components:{ListBlock:r.default},methods:(0,a.default)({},(0,s.mapActions)("resume",["saveResume"]),(0,s.mapMutations)("resume",["UPDATE_EDUCATION","DELETE_EDUCATION","CANCEL_EDIT_EDUCATION","EDIT_EDUCATION","CHANGE_EDUCATION_ORDER"]),{saveItem:function(t,e){this.UPDATE_EDUCATION({item:t.item,id:e}),this.saveResume({name:"education",data:{value:(0,i.default)(this.data)}})},deleteItem:function(t,e){this.DELETE_EDUCATION({id:e}),this.saveResume({name:"education",data:{value:(0,i.default)(this.data)}})},editItem:function(t,e){this.EDIT_EDUCATION({id:e})},changeOrderItem:function(t,e){this.CHANGE_EDUCATION_ORDER({type:t.type,id:e}),this.saveResume({name:"education",data:{value:(0,i.default)(this.data)}})}})}},526:function(t,e,n){var i=n(13),a=i.JSON||(i.JSON={stringify:JSON.stringify});t.exports=function(t){return a.stringify.apply(a,arguments)}},527:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(528),a=n.n(i);for(var s in i)"default"!==s&&function(t){n.d(e,t,function(){return i[t]})}(s);var r=n(549);var u=function(t){n(547)},o=n(16)(a.a,r.a,!1,u,null,null);e.default=o.exports},528:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,a=n(521),s=(i=a)&&i.__esModule?i:{default:i};e.default={props:["item","admin","edit","type"],data:function(){return{newItem:Object.cloneDeep(s.default),errors:{date:{0:"",1:""}}}},watch:{edit:function(t){t&&(this.newItem=Object.cloneDeep(this.item),this.errors={date:{0:"",1:""}})}},methods:{save:function(){var t=this;if(parseInt(this.$refs.inputDate0[0].value)<parseInt(this.$refs.inputDate1[0].value))return this.errors.date[1]="Начало работы не может быть позже конца работы",!1;var e=!0,n=this.newItem.childs;n.map(function(n){for(var i in n)""==n[i]&&(t.errors.date[1]="Все поля обязательны для заполнения!",e=!1)}),e&&(this.$emit("saveItem",{item:n}),this.newItem=Object.cloneDeep(s.default))},inputWatch:function(){this.errors={date:{0:"",1:""}}},checkNumber:function(t){return t.keyCode>47&&t.keyCode<58||t.keyCode>95&&t.keyCode<106||8==t.keyCode||46==t.keyCode||37==t.keyCode||39==t.keyCode||(t.preventDefault(),!1)}}}},529:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=u(n(512)),a=u(n(10)),s=n(23),r=u(n(527));function u(t){return t&&t.__esModule?t:{default:t}}e.default={props:["data","admin"],components:{ListBlock:r.default},methods:(0,a.default)({},(0,s.mapActions)("resume",["saveResume"]),(0,s.mapMutations)("resume",["UPDATE_JOB","DELETE_JOB","CANCEL_EDIT_JOB","EDIT_JOB","CHANGE_JOB_ORDER"]),{saveItem:function(t,e){this.UPDATE_JOB({item:t.item,id:e}),this.saveResume({name:"job",data:{value:(0,i.default)(this.data)}})},deleteItem:function(t,e){this.DELETE_JOB({id:e}),this.saveResume({name:"job",data:{value:(0,i.default)(this.data)}})},editItem:function(t,e){this.EDIT_JOB({id:e})},changeOrderItem:function(t,e){this.CHANGE_JOB_ORDER({type:t.type,id:e}),this.saveResume({name:"job",data:{value:(0,i.default)(this.data)}})}})}},538:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(519),a=n.n(i);for(var s in i)"default"!==s&&function(t){n.d(e,t,function(){return i[t]})}(s);var r=n(541);var u=function(t){n(539)},o=n(16)(a.a,r.a,!1,u,null,null);e.default=o.exports},539:function(t,e,n){var i=n(540);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n(508)("6b4a3870",i,!0,{})},540:function(t,e,n){(t.exports=n(507)(!1)).push([t.i,"",""])},541:function(t,e,n){"use strict";var i={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("button",{staticClass:"btn",class:t.className,on:{click:function(e){return e.preventDefault(),t.$emit("clicked")}}},[t._v("\n  "+t._s(t.title)+"\n")])},staticRenderFns:[]};e.a=i},542:function(t,e,n){var i=n(543);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n(508)("db041e18",i,!0,{})},543:function(t,e,n){(t.exports=n(507)(!1)).push([t.i,"",""])},544:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(525),a=n.n(i);for(var s in i)"default"!==s&&function(t){n.d(e,t,function(){return i[t]})}(s);var r=n(550);var u=function(t){n(545)},o=n(16)(a.a,r.a,!1,u,null,null);e.default=o.exports},545:function(t,e,n){var i=n(546);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n(508)("985ac304",i,!0,{})},546:function(t,e,n){(t.exports=n(507)(!1)).push([t.i,"",""])},547:function(t,e,n){var i=n(548);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n(508)("4c320a4a",i,!0,{})},548:function(t,e,n){(t.exports=n(507)(!1)).push([t.i,"",""])},549:function(t,e,n){"use strict";var i={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"education-item",class:t.item.edit?"itemEdit":""},[t.item.edit?n("div",{staticClass:"left-point"},[n("button",{staticClass:"btn",on:{click:function(e){return e.preventDefault(),t.$emit("changeOrder",{type:"top"})}}},[n("img",{attrs:{src:"/img/icons/order-top.png"}})]),n("button",{staticClass:"btn",on:{click:function(e){return e.preventDefault(),t.$emit("changeOrder",{type:"bot"})}}},[n("img",{attrs:{src:"/img/icons/order-bottom.png"}})])]):n("div",{staticClass:"left-point"},[n("div",{staticClass:"circle"}),n("div",{staticClass:"line"})]),n("div",{staticClass:"education-item__block",class:t.item.edit?"noPadBot":""},[t._l(t.item.childs,function(e,i){return t.item.edit?t._e():n("div",{key:i,staticClass:"block-line"},[n("div",{staticClass:"date"},[t._v("\n        "+t._s(e.date)+"\n      ")]),n("div",{staticClass:"title"},[t._v("\n        "+t._s(e.name)+"\n      ")])])}),t._l(t.newItem.childs,function(e,i){return t.item.edit?n("div",{key:i,staticClass:"block-line"},[n("div",{staticClass:"block-line__date"},[n("label",{attrs:{for:"date"+i}},[t._v("\n          "+t._s("job"==t.type?0==i?"Конец работы":"Начало работы":"edu"==t.type?0==i?"Конец обучения":"Начало обучения":"")+"\n        ")]),n("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.date,expression:"edit.date",modifiers:{trim:!0}}],ref:"inputDate"+i,refInFor:!0,staticClass:"inpt",attrs:{type:"text",id:"date"+i,maxlength:"4",placeholder:"2019"},domProps:{value:e.date},on:{keydown:function(e){return t.checkNumber(e)},input:[function(n){n.target.composing||t.$set(e,"date",n.target.value.trim())},t.inputWatch],blur:function(e){return t.$forceUpdate()}}}),t.errors.date[i]?n("span",{staticClass:"error-mess"},[t._v("\n            "+t._s(t.errors.date[i])+"\n          ")]):t._e()]),n("div",{staticClass:"block-line__name"},[n("label",{attrs:{for:"mesto"+i}},[t._v("\n          "+t._s("job"==t.type?0==i?"Место работы":"Должность":"edu"==t.type?0==i?"Место обучения":"Специальность":"")+"\n        ")]),n("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.name,expression:"edit.name",modifiers:{trim:!0}}],staticClass:"inpt",attrs:{type:"text",id:"mesto"+i,placeholder:""},domProps:{value:e.name},on:{input:[function(n){n.target.composing||t.$set(e,"name",n.target.value.trim())},t.inputWatch],blur:function(e){return t.$forceUpdate()}}})])]):t._e()})],2),t.admin&&!t.item.edit?n("div",{staticClass:"education-item__edit"},[n("button",{staticClass:"btn",on:{click:function(e){return e.preventDefault(),t.$emit("edit")}}},[n("img",{attrs:{src:"/img/icons/edit.png"}})])]):t._e(),t.admin&&t.item.edit?n("div",{staticClass:"save-btns"},[n("button",{staticClass:"btn addNew",attrs:{title:"Удалить"},on:{click:function(e){return e.preventDefault(),t.$emit("delete")}}},[n("img",{attrs:{src:"/img/icons/close_dark.png"}}),t._v("\n      Удалить\n    ")]),n("div",{staticClass:"save-btns__right"},[n("button",{staticClass:"btn addNew",attrs:{title:"Отмена"},on:{click:function(e){return e.preventDefault(),t.$emit("cancel")}}},[t._v("\n        Отмена\n      ")]),n("button",{staticClass:"btn send",attrs:{title:"Сохранить"},on:{click:function(e){return e.preventDefault(),t.save()}}},[t._v("\n        Сохранить\n      ")])])]):t._e()])},staticRenderFns:[]};e.a=i},550:function(t,e,n){"use strict";var i={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"education"},t._l(t.data,function(e,i){return n("list-block",{key:"edu_"+i,attrs:{item:e,admin:t.admin,edit:e.edit,type:"edu"},on:{saveItem:function(e){return t.saveItem(e,i)},cancel:function(e){return t.CANCEL_EDIT_EDUCATION({id:i})},delete:function(e){return t.deleteItem(e,i)},edit:function(e){return t.editItem(e,i)},changeOrder:function(e){return t.changeOrderItem(e,i)}}})}),1)},staticRenderFns:[]};e.a=i},551:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(529),a=n.n(i);for(var s in i)"default"!==s&&function(t){n.d(e,t,function(){return i[t]})}(s);var r=n(554);var u=function(t){n(552)},o=n(16)(a.a,r.a,!1,u,null,null);e.default=o.exports},552:function(t,e,n){var i=n(553);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n(508)("5358c5d7",i,!0,{})},553:function(t,e,n){(t.exports=n(507)(!1)).push([t.i,"",""])},554:function(t,e,n){"use strict";var i={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"education"},t._l(t.data,function(e,i){return n("list-block",{key:"edu_"+i,attrs:{item:e,admin:t.admin,edit:e.edit,type:"job"},on:{saveItem:function(e){return t.saveItem(e,i)},cancel:function(e){return t.CANCEL_EDIT_JOB({id:i})},delete:function(e){return t.deleteItem(e,i)},edit:function(e){return t.editItem(e,i)},changeOrder:function(e){return t.changeOrderItem(e,i)}}})}),1)},staticRenderFns:[]};e.a=i},555:function(t,e,n){"use strict";var i={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"resume"},[n("about-block",{attrs:{about:t.resume,admin:t.user_profile.id==t.user.user_id}}),n("div",{staticClass:"resume-block"},[n("div",{staticClass:"resume-block__title"},[t._v("\n      Образование\n      "),t.user_profile.id==t.user.user_id?n("button-block",{attrs:{title:"+ Добавить",className:"addNew"},on:{clicked:function(e){return t.addEducation()}}}):t._e()],1),n("education-block",{attrs:{data:t.education,admin:t.user_profile.id==t.user.user_id}})],1),n("div",{staticClass:"resume-block"},[n("div",{staticClass:"resume-block__title"},[n("span",[t._v("\n        Работа "),n("span",{staticClass:"experience"},[t._v(t._s(t.returnExperience()))])]),t.user_profile.id==t.user.user_id?n("button-block",{attrs:{title:"+ Добавить",className:"addNew"},on:{clicked:function(e){return t.addJob()}}}):t._e()],1),n("job-block",{attrs:{data:t.job,admin:t.user_profile.id==t.user.user_id}})],1)],1)},staticRenderFns:[]};e.a=i}});