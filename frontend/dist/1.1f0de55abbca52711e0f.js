webpackJsonp([1],{454:function(t,e,n){"use strict";function i(t){n(508)}Object.defineProperty(e,"__esModule",{value:!0});var a=n(486),s=n.n(a);for(var r in a)"default"!==r&&function(t){n.d(e,t,function(){return a[t]})}(r);var u=n(521),o=n(18),c=i,d=o(s.a,u.a,!1,c,null,null);e.default=d.exports},477:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(11),a=function(t){return t&&t.__esModule?t:{default:t}}(i),s=n(21);e.default={props:["admin","about"],data:function(){return{aboutEdit:!1,newAbout:""}},methods:(0,a.default)({},(0,s.mapActions)("resume",["saveResume"]),(0,s.mapMutations)("resume",["UPDATE_RESUME"]),{save:function(){this.saveResume({name:"resume",data:{value:this.newAbout}}),this.UPDATE_RESUME({value:this.newAbout}),this.aboutEdit=!1,this.newAbout=""}})}},478:function(t,e,n){t.exports={default:n(492),__esModule:!0}},484:function(t,e,n){"use strict";function i(t){n(488)}Object.defineProperty(e,"__esModule",{value:!0});var a=n(477),s=n.n(a);for(var r in a)"default"!==r&&function(t){n.d(e,t,function(){return a[t]})}(r);var u=n(490),o=n(18),c=i,d=o(s.a,u.a,!1,c,null,null);e.default=d.exports},485:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{title:{type:String},className:{type:String}}}},486:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=n(11),s=i(a),r=n(21),u=n(9),o=(i(u),n(487)),c=i(o),d=n(504),l=i(d),f=n(484),m=i(f),v=n(510),p=i(v),_=n(517),b=i(_);e.default={asyncData:function(t,e){var n=t.store,i=t.route;return n.dispatch("resume/getResume",{user_id:i.params.id})},components:{ButtonBlock:l.default,AboutBlock:m.default,EducationBlock:p.default,JobBlock:b.default},data:function(){return{expTitle:["год","года","лет"]}},computed:(0,s.default)({},(0,r.mapState)("profile",["user_profile"]),(0,r.mapState)("user",["user"]),(0,r.mapState)("resume",["resume","education","job"])),methods:(0,s.default)({},(0,r.mapMutations)("resume",["ADD_EDUCATION","ADD_JOB"]),{addEducation:function(){var t=this.education;for(var e in t)if(t[e].edit)return!1;this.ADD_EDUCATION(Object.cloneDeep(c.default))},addJob:function(){var t=this.job;for(var e in t)if(t[e].edit)return!1;this.ADD_JOB(Object.cloneDeep(c.default))},returnExperience:function(){var t=this.job,e=0;t.map(function(t){e+=t.childs[0].date-t.childs[1].date});var n=[2,0,1,1,1,2],i=this.expTitle[e%100>4&&e%100<20?2:n[e%10<5?e%10:5]];return"(опыт "+e+" "+i+")"}})}},487:function(t,e){t.exports={childs:[{date:"",name:""},{date:"",name:""}],edit:!0}},488:function(t,e,n){var i=n(489);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n(453)("77679b00",i,!0,{})},489:function(t,e,n){e=t.exports=n(452)(!1),e.push([t.i,"",""])},490:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"resume-block"},[n("div",{staticClass:"resume-block__title"},[t._v("\n    О себе\n    "),t.admin?n("a",{attrs:{href:"/edit",title:"Редактировать"},on:{click:function(e){e.preventDefault(),t.aboutEdit=!0,t.newAbout=t.about}}},[n("img",{attrs:{src:"/img/icons/edit.png"}})]):t._e()]),n("div",{staticClass:"resume-block__text"},[t.aboutEdit?n("div",[n("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:t.newAbout,expression:"newAbout",modifiers:{trim:!0}}],attrs:{col:"3"},domProps:{value:t.newAbout},on:{input:function(e){e.target.composing||(t.newAbout=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),n("div",{staticClass:"save-btns"},[n("div"),n("div",{staticClass:"save-btns__right"},[n("button",{staticClass:"btn addNew",on:{click:function(e){t.aboutEdit=!1}}},[t._v("\n            Отмена\n          ")]),n("button",{staticClass:"btn infoBtn",on:{click:function(e){return t.save()}}},[t._v("\n            Сохранить\n          ")])])])]):n("div",[n("p",[t._v("\n        "+t._s(t.about)+"\n      ")])])])])},a=[],s={render:i,staticRenderFns:a};e.a=s},491:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=n(478),s=i(a),r=n(11),u=i(r),o=n(21),c=n(493),d=i(c);e.default={props:["data","admin"],components:{ListBlock:d.default},methods:(0,u.default)({},(0,o.mapActions)("resume",["saveResume"]),(0,o.mapMutations)("resume",["UPDATE_EDUCATION","DELETE_EDUCATION","CANCEL_EDIT_EDUCATION","EDIT_EDUCATION","CHANGE_EDUCATION_ORDER"]),{saveItem:function(t,e){this.UPDATE_EDUCATION({item:t.item,id:e}),this.saveResume({name:"education",data:{value:(0,s.default)(this.data)}})},deleteItem:function(t,e){this.DELETE_EDUCATION({id:e}),this.saveResume({name:"education",data:{value:(0,s.default)(this.data)}})},editItem:function(t,e){this.EDIT_EDUCATION({id:e})},changeOrderItem:function(t,e){this.CHANGE_EDUCATION_ORDER({type:t.type,id:e}),this.saveResume({name:"education",data:{value:(0,s.default)(this.data)}})}})}},492:function(t,e,n){var i=n(12),a=i.JSON||(i.JSON={stringify:JSON.stringify});t.exports=function(t){return a.stringify.apply(a,arguments)}},493:function(t,e,n){"use strict";function i(t){n(513)}Object.defineProperty(e,"__esModule",{value:!0});var a=n(494),s=n.n(a);for(var r in a)"default"!==r&&function(t){n.d(e,t,function(){return a[t]})}(r);var u=n(515),o=n(18),c=i,d=o(s.a,u.a,!1,c,null,null);e.default=d.exports},494:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(487),a=function(t){return t&&t.__esModule?t:{default:t}}(i);e.default={props:["item","admin","edit","type"],data:function(){return{newItem:Object.cloneDeep(a.default),errors:{date:{0:"",1:""}}}},watch:{edit:function(t){t&&(this.newItem=Object.cloneDeep(this.item),this.errors={date:{0:"",1:""}})}},methods:{save:function(){var t=this;if(parseInt(this.$refs.inputDate0[0].value)<parseInt(this.$refs.inputDate1[0].value))return this.errors.date[1]="Начало работы не может быть позже конца работы",!1;var e=!0,n=this.newItem.childs;n.map(function(n){for(var i in n)""==n[i]&&(t.errors.date[1]="Все поля обязательны для заполнения!",e=!1)}),e&&(this.$emit("saveItem",{item:n}),this.newItem=Object.cloneDeep(a.default))},inputWatch:function(){this.errors={date:{0:"",1:""}}},checkNumber:function(t){return t.keyCode>47&&t.keyCode<58||t.keyCode>95&&t.keyCode<106||8==t.keyCode||46==t.keyCode||37==t.keyCode||39==t.keyCode||(t.preventDefault(),!1)}}}},495:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=n(478),s=i(a),r=n(11),u=i(r),o=n(21),c=n(493),d=i(c);e.default={props:["data","admin"],components:{ListBlock:d.default},methods:(0,u.default)({},(0,o.mapActions)("resume",["saveResume"]),(0,o.mapMutations)("resume",["UPDATE_JOB","DELETE_JOB","CANCEL_EDIT_JOB","EDIT_JOB","CHANGE_JOB_ORDER"]),{saveItem:function(t,e){this.UPDATE_JOB({item:t.item,id:e}),this.saveResume({name:"job",data:{value:(0,s.default)(this.data)}})},deleteItem:function(t,e){this.DELETE_JOB({id:e}),this.saveResume({name:"job",data:{value:(0,s.default)(this.data)}})},editItem:function(t,e){this.EDIT_JOB({id:e})},changeOrderItem:function(t,e){this.CHANGE_JOB_ORDER({type:t.type,id:e}),this.saveResume({name:"job",data:{value:(0,s.default)(this.data)}})}})}},504:function(t,e,n){"use strict";function i(t){n(505)}Object.defineProperty(e,"__esModule",{value:!0});var a=n(485),s=n.n(a);for(var r in a)"default"!==r&&function(t){n.d(e,t,function(){return a[t]})}(r);var u=n(507),o=n(18),c=i,d=o(s.a,u.a,!1,c,null,null);e.default=d.exports},505:function(t,e,n){var i=n(506);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n(453)("6b4a3870",i,!0,{})},506:function(t,e,n){e=t.exports=n(452)(!1),e.push([t.i,"",""])},507:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement;return(t._self._c||e)("button",{staticClass:"btn",class:t.className,on:{click:function(e){return e.preventDefault(),t.$emit("clicked")}}},[t._v("\n  "+t._s(t.title)+"\n")])},a=[],s={render:i,staticRenderFns:a};e.a=s},508:function(t,e,n){var i=n(509);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n(453)("d375bf90",i,!0,{})},509:function(t,e,n){e=t.exports=n(452)(!1),e.push([t.i,"",""])},510:function(t,e,n){"use strict";function i(t){n(511)}Object.defineProperty(e,"__esModule",{value:!0});var a=n(491),s=n.n(a);for(var r in a)"default"!==r&&function(t){n.d(e,t,function(){return a[t]})}(r);var u=n(516),o=n(18),c=i,d=o(s.a,u.a,!1,c,null,null);e.default=d.exports},511:function(t,e,n){var i=n(512);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n(453)("985ac304",i,!0,{})},512:function(t,e,n){e=t.exports=n(452)(!1),e.push([t.i,"",""])},513:function(t,e,n){var i=n(514);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n(453)("4c320a4a",i,!0,{})},514:function(t,e,n){e=t.exports=n(452)(!1),e.push([t.i,"",""])},515:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"education-item",class:t.item.edit?"itemEdit":""},[t.item.edit?n("div",{staticClass:"left-point"},[n("button",{staticClass:"btn",on:{click:function(e){return e.preventDefault(),t.$emit("changeOrder",{type:"top"})}}},[n("img",{attrs:{src:"/img/icons/order-top.png"}})]),n("button",{staticClass:"btn",on:{click:function(e){return e.preventDefault(),t.$emit("changeOrder",{type:"bot"})}}},[n("img",{attrs:{src:"/img/icons/order-bottom.png"}})])]):n("div",{staticClass:"left-point"},[n("div",{staticClass:"circle"}),n("div",{staticClass:"line"})]),n("div",{staticClass:"education-item__block",class:t.item.edit?"noPadBot":""},[t._l(t.item.childs,function(e,i){return t.item.edit?t._e():n("div",{key:i,staticClass:"block-line"},[n("div",{staticClass:"date"},[t._v("\n        "+t._s(e.date)+"\n      ")]),n("div",{staticClass:"title"},[t._v("\n        "+t._s(e.name)+"\n      ")])])}),t._l(t.newItem.childs,function(e,i){return t.item.edit?n("div",{key:i,staticClass:"block-line"},[n("div",{staticClass:"block-line__date"},[n("label",{attrs:{for:"date"+i}},[t._v("\n          "+t._s("job"==t.type?0==i?"Конец работы":"Начало работы":"edu"==t.type?0==i?"Конец обучения":"Начало обучения":"")+"\n        ")]),n("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.date,expression:"edit.date",modifiers:{trim:!0}}],ref:"inputDate"+i,refInFor:!0,staticClass:"inpt",attrs:{type:"text",id:"date"+i,maxlength:"4",placeholder:"2019"},domProps:{value:e.date},on:{keydown:function(e){return t.checkNumber(e)},input:[function(n){n.target.composing||t.$set(e,"date",n.target.value.trim())},t.inputWatch],blur:function(e){return t.$forceUpdate()}}}),t.errors.date[i]?n("span",{staticClass:"error-mess"},[t._v("\n            "+t._s(t.errors.date[i])+"\n          ")]):t._e()]),n("div",{staticClass:"block-line__name"},[n("label",{attrs:{for:"mesto"+i}},[t._v("\n          "+t._s("job"==t.type?0==i?"Место работы":"Должность":"edu"==t.type?0==i?"Место обучения":"Специальность":"")+"\n        ")]),n("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.name,expression:"edit.name",modifiers:{trim:!0}}],staticClass:"inpt",attrs:{type:"text",id:"mesto"+i,placeholder:""},domProps:{value:e.name},on:{input:[function(n){n.target.composing||t.$set(e,"name",n.target.value.trim())},t.inputWatch],blur:function(e){return t.$forceUpdate()}}})])]):t._e()})],2),t.admin&&!t.item.edit?n("div",{staticClass:"education-item__edit"},[n("button",{staticClass:"btn",on:{click:function(e){return e.preventDefault(),t.$emit("edit")}}},[n("img",{attrs:{src:"/img/icons/edit.png"}})])]):t._e(),t.admin&&t.item.edit?n("div",{staticClass:"save-btns"},[n("button",{staticClass:"btn addNew",attrs:{title:"Удалить"},on:{click:function(e){return e.preventDefault(),t.$emit("delete")}}},[n("img",{attrs:{src:"/img/icons/close_dark.png"}}),t._v("\n      Удалить\n    ")]),n("div",{staticClass:"save-btns__right"},[n("button",{staticClass:"btn addNew",attrs:{title:"Отмена"},on:{click:function(e){return e.preventDefault(),t.$emit("cancel")}}},[t._v("\n        Отмена\n      ")]),n("button",{staticClass:"btn send",attrs:{title:"Сохранить"},on:{click:function(e){return e.preventDefault(),t.save()}}},[t._v("\n        Сохранить\n      ")])])]):t._e()])},a=[],s={render:i,staticRenderFns:a};e.a=s},516:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"education"},t._l(t.data,function(e,i){return n("list-block",{key:"edu_"+i,attrs:{item:e,admin:t.admin,edit:e.edit,type:"edu"},on:{saveItem:function(e){return t.saveItem(e,i)},cancel:function(e){return t.CANCEL_EDIT_EDUCATION({id:i})},delete:function(e){return t.deleteItem(e,i)},edit:function(e){return t.editItem(e,i)},changeOrder:function(e){return t.changeOrderItem(e,i)}}})}),1)},a=[],s={render:i,staticRenderFns:a};e.a=s},517:function(t,e,n){"use strict";function i(t){n(518)}Object.defineProperty(e,"__esModule",{value:!0});var a=n(495),s=n.n(a);for(var r in a)"default"!==r&&function(t){n.d(e,t,function(){return a[t]})}(r);var u=n(520),o=n(18),c=i,d=o(s.a,u.a,!1,c,null,null);e.default=d.exports},518:function(t,e,n){var i=n(519);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n(453)("5358c5d7",i,!0,{})},519:function(t,e,n){e=t.exports=n(452)(!1),e.push([t.i,"",""])},520:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"education"},t._l(t.data,function(e,i){return n("list-block",{key:"edu_"+i,attrs:{item:e,admin:t.admin,edit:e.edit,type:"job"},on:{saveItem:function(e){return t.saveItem(e,i)},cancel:function(e){return t.CANCEL_EDIT_JOB({id:i})},delete:function(e){return t.deleteItem(e,i)},edit:function(e){return t.editItem(e,i)},changeOrder:function(e){return t.changeOrderItem(e,i)}}})}),1)},a=[],s={render:i,staticRenderFns:a};e.a=s},521:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"resume"},[n("about-block",{attrs:{about:t.resume,admin:t.user_profile.id==t.user.user_id}}),n("div",{staticClass:"resume-block"},[n("div",{staticClass:"resume-block__title"},[t._v("\n      Образование\n      "),t.user_profile.id==t.user.user_id?n("button-block",{attrs:{title:"+ Добавить",className:"addNew"},on:{clicked:function(e){return t.addEducation()}}}):t._e()],1),n("education-block",{attrs:{data:t.education,admin:t.user_profile.id==t.user.user_id}})],1),n("div",{staticClass:"resume-block"},[n("div",{staticClass:"resume-block__title"},[n("span",[t._v("\n        Работа "),n("span",{staticClass:"experience"},[t._v(t._s(t.returnExperience()))])]),t.user_profile.id==t.user.user_id?n("button-block",{attrs:{title:"+ Добавить",className:"addNew"},on:{clicked:function(e){return t.addJob()}}}):t._e()],1),n("job-block",{attrs:{data:t.job,admin:t.user_profile.id==t.user.user_id}})],1)],1)},a=[],s={render:i,staticRenderFns:a};e.a=s}});