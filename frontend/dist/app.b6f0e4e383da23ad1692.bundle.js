webpackJsonp([7],{146:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(299)),a=u(n(302));function u(e){return e&&e.__esModule?e:{default:e}}t.default={name:"App",metaInfo:{titleTemplate:function(e){return e?""+e:"Dolinger Analytics"},meta:[{vmid:"description",name:"description",content:""}]},components:{HeaderBlock:r.default,FooterBlock:a.default},methods:{}}},147:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{menu:[{name:"Загрузить данные",link:"/download"},{name:"Аналитика",link:"/analytics"}]}}}},148:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={}},162:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(340)),a=u(n(358));function u(e){return e&&e.__esModule?e:{default:e}}var o=a.default.apiProd;t.default=r.default.create({baseURL:o,headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET, POST, PUT, DELETE","Access-Control-Allow-Headers":"Origin, X-Requested-With, Content-Type, Accept","Content-Type":"application/json"}})},168:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={getAuthenticationHeader:function(e){return"Bearer "+e.user.user.token},getUserId:function(e){return e.user.user.user_id}}},171:function(e,t,n){"use strict";var r=l(n(113)),a=l(n(65)),u=l(n(180)),o=l(n(182));n(184),n(186),n(191),n(192),n(193),n(194),n(195),n(196),n(197),n(198),n(199),n(201),n(202),n(203),n(204),n(205),n(207),n(208),n(209),n(210),n(211),n(212),n(213),n(214),n(215),n(216),n(217),n(218),n(222),n(225),n(226),n(227),n(228),n(229),n(230),n(231),n(232),n(233),n(234),n(235),n(236),n(237),n(238),n(239),n(240),n(241),n(242),n(243),n(244),n(245),n(246),n(247),n(249),n(250),n(251),n(252),n(253),n(254),n(255),n(256),n(257),n(99),n(258),n(259),n(260),n(261),n(262),n(263),n(264),n(265),n(266),n(267),n(268),n(269),n(270),n(271),n(272),n(274),n(275),n(276),n(277),n(278),n(279),n(280),n(281),n(282),n(283),n(284),n(285),n(286),n(287),n(288),n(289),n(290),n(291),n(145);var s=n(292),c=n(293),i=n(381);function l(e){return e&&e.__esModule?e:{default:e}}a.default.use(u.default),a.default.component("MaskedInput",o.default);var f=new a.default((0,r.default)({},s.vueTopprogress,{propsData:{color:"red",height:2}})).$mount(),d=window.__INITIAL_STATE__,p=(0,c.createApp)({state:d}),v=p.app,h=p.router,_=p.store;h.onReady(function(){h.beforeResolve((0,i.createAsyncDataGuard)(_,h,f)),document.body.appendChild(f.$el),v.$mount("#app")})},293:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createApp=function(e){var t=(0,c.createStore)(e),n=(0,s.createRouter)(t);return(0,a.sync)(t,n),{app:new r.default({router:n,store:t,render:function(e){return e(o.default)}}),router:n,store:t}};var r=i(n(65)),a=n(294),u=i(n(295)),o=i(n(296)),s=n(306),c=n(331);function i(e){return e&&e.__esModule?e:{default:e}}n(361),r.default.config.productionTip=!1,r.default.use(u.default)},296:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(146),a=n.n(r);for(var u in r)"default"!==u&&function(e){n.d(t,e,function(){return r[e]})}(u);var o=n(305);var s=function(e){n(297)},c=n(78)(a.a,o.a,!1,s,null,null);t.default=c.exports},297:function(e,t){},299:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(147),a=n.n(r);for(var u in r)"default"!==u&&function(e){n.d(t,e,function(){return r[e]})}(u);var o=n(301);var s=function(e){n(300)},c=n(78)(a.a,o.a,!1,s,null,null);t.default=c.exports},300:function(e,t){},301:function(e,t,n){"use strict";var r={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("header",{staticClass:"header"},[n("div",{staticClass:"wr"},[n("div",{staticClass:"header-block"},[n("router-link",{staticClass:"logo",attrs:{to:"/"}},[n("b",[e._v("DOLINGER")]),e._v(" ANALYTICS\n      ")]),n("div",{staticClass:"menu"},[e._l(e.menu,function(t,r){return n("div",{key:r,staticClass:"menu-item"},[n("router-link",{staticClass:"link",attrs:{to:""+t.link}},[e._v("\n            "+e._s(t.name)+"\n          ")])],1)}),e._m(0)],2)],1)])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"menu-user"},[t("img",{attrs:{src:"/img/icons/user.svg"}})])}]};t.a=r},302:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(148),a=n.n(r);for(var u in r)"default"!==u&&function(e){n.d(t,e,function(){return r[e]})}(u);var o=n(304);var s=function(e){n(303)},c=n(78)(a.a,o.a,!1,s,null,null);t.default=c.exports},303:function(e,t){},304:function(e,t,n){"use strict";var r={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("footer",{staticClass:"footer"},[t("div",{staticClass:"wr"})])}]};t.a=r},305:function(e,t,n){"use strict";var r={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},["/login"!=this.$route.path?t("header-block"):this._e(),t("router-view"),"/login"!=this.$route.path?t("footer-block"):this._e()],1)},staticRenderFns:[]};t.a=r},306:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createRouter=function(e){var t=new a.default({mode:"history",fallback:!1,scrollBehavior:function(e,t,n){return n||(e.meta&&e.meta.page&&t.meta&&!t.meta.modal?{x:0,y:0}:void 0)},routes:[{path:"/",component:function(){return n.e(5).then(n.bind(null,384))},meta:{requiredAuth:!0},children:[{path:"",name:"index",component:function(){return n.e(2).then(n.bind(null,385))},meta:{requiredAuth:!0}}]},{path:"/download",name:"download",component:function(){return n.e(3).then(n.bind(null,386))},meta:{requiredAuth:!0}},{path:"/analytics",name:"analytics",component:function(){return n.e(4).then(n.bind(null,387))},meta:{requiredAuth:!0}},{path:"/login",name:"login",component:function(){return n.e(0).then(n.bind(null,388))}},{path:"/404",name:"404",component:function(){return n.e(1).then(n.bind(null,389))}},{path:"*",redirect:"/404"}]});return t.beforeEach(function(t,n,r){t.meta.requiredAuth?e.state.user.user.auth?r():r("/login"):r()}),t};var r=u(n(65)),a=u(n(307));function u(e){return e&&e.__esModule?e:{default:e}}r.default.use(a.default),t.default={}},331:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(113));t.createStore=function(t){var n=new u.default.Store({strict:!1,modules:s,actions:o});if(e.browser&&t.state){var a=t.state.user;n.replaceState((0,r.default)({},n.state,t.state,{user:a}))}return n};var a=i(n(65)),u=i(n(170)),o=c(n(332)),s=c(n(333));function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}a.default.use(u.default)}).call(t,n(89))},332:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setErrorResponse=function(e,t){e.commit;t&&console.log(t)}},333:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.download=t.user=void 0;var r=u(n(334)),a=u(n(359));function u(e){return e&&e.__esModule?e:{default:e}}t.user=r.default,t.download=a.default},334:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=i(n(335)),u=i(n(79)),o=i(n(80)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(339)),c=i(n(162));i(n(168));function i(e){return e&&e.__esModule?e:{default:e}}var l={getUser:function(e,t){var n=this,r=e.commit;return(0,o.default)(u.default.mark(function e(){var a,o,s,i;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.default.get("/user",{params:t});case 3:a=e.sent,o=a.data,s=o.success,i=o.result,s&&r("SET_USER_PROFILE",i),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}},e,n,[[0,8]])}))()},auth:function(e,t){var n=this,r=e.commit;return(0,o.default)(u.default.mark(function e(){var a,o,s;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.default.post("/auth",t);case 3:if(a=e.sent,!(o=a.data).success){e.next=10;break}return fetch("/session",{method:"post",headers:{"Content-type":"application/x-www-form-urlencoded"},body:"auth=true&name="+o.name+"&token="+o.token+"&user_id="+o.user_id}).then(function(){r("SET_USER",{auth:!0,profile:o.profile,token:o.token,user_id:o.user_id}),r("SET_ERROR",{errorAuth:""})}),e.abrupt("return",o);case 10:return e.abrupt("return",o);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),(s=e.t0.response)&&r("SET_ERROR",{errorAuth:s.data.message});case 17:case"end":return e.stop()}},e,n,[[0,13]])}))()},signup:function(e,t){var n=this,r=e.commit;return(0,o.default)(u.default.mark(function e(){var a,o,s;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.default.post("/signup",t);case 3:return a=e.sent,(o=a.data).success&&r("SET_ERROR",{errorSignup:""}),e.abrupt("return",o);case 9:e.prev=9,e.t0=e.catch(0),(s=e.t0.response)&&r("SET_ERROR",{errorSignup:s.data.message});case 13:case"end":return e.stop()}},e,n,[[0,9]])}))()},logout:function(e,t){var n=this,r=e.commit;return(0,o.default)(u.default.mark(function e(){return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/session",{method:"delete"});case 3:e.sent,r("SIGN_OUT"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}},e,n,[[0,7]])}))()}},f=(r={},(0,a.default)(r,s.SET_USER,function(e,t){for(var n in t)e.user[n]=t[n]}),(0,a.default)(r,s.SIGN_OUT,function(e,t){e.user.profile={firstname:"",lastname:"",image:""},e.user.token=null,e.user.user_id=null,e.user.status_a=null,e.user.auth=!1}),(0,a.default)(r,s.SET_ERROR,function(e,t){for(var n in t)e[n]=t[n]}),r);t.default={namespaced:!0,actions:l,state:{user:{auth:!1,profile:null,token:null,user_id:null},errorAuth:"",errorSignup:""},mutations:f}},339:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SET_USER="SET_USER",t.SIGN_OUT="SIGN_OUT",t.SET_ERROR="SET_ERROR",t.SET_USER_PROFILE="SET_USER_PROFILE"},358:function(e,t){e.exports={portDev:8081,portProd:8080,apiProd:"/api/v1",apiDev:"http://localhost:3000/api/v1",timeout:3e3,https:!1,dbProd:{host:"localhost",port:3306,dbuser:"",dbpass:"",dbname:""},dbDev:{host:"localhost",port:3306,dbuser:"root",dbpass:"",dbname:"analitics"}}},359:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(79)),a=s(n(80)),u=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(360)),s(n(162))),o=s(n(168));function s(e){return e&&e.__esModule?e:{default:e}}var c={uploadForm:function(e,t){var n=this,s=(e.commit,e.rootState);return(0,a.default)(r.default.mark(function e(){var a;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.default.post("/upload",t,{headers:{Authorization:o.default.getAuthenticationHeader(s),"Content-Type":"multipart/form-data"},params:{user_id:o.default.getUserId(s)}});case 3:return a=e.sent,e.abrupt("return",a.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}},e,n,[[0,7]])}))()}};t.default={namespaced:!0,actions:c,state:{},mutations:{}}},360:function(e,t,n){"use strict"},361:function(e,t,n){"use strict";var r=o(n(362)),a=o(n(366)),u=o(n(379));function o(e){return e&&e.__esModule?e:{default:e}}Object.clone=u.default.clone,Object.cloneDeep=u.default.cloneDeep,Object.merge=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return u.default.assign.apply(u.default,[{}].concat(t))},Object.mergeDeep=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return u.default.merge.apply(u.default,[{}].concat(t))},Object.isObject=function(e){return"object"===(void 0===e?"undefined":(0,a.default)(e))&&!Array.isArray(e)&&!!e},Object.cloneByModel=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=Object.cloneDeep(e),u=Object.clone(t);return(0,r.default)(a).forEach(function(e){a.hasOwnProperty(e)&&(e in u?a[e]=u[e]:n||delete a[e])}),a},Object.cloneDeepByModel=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=Object.cloneDeep(e),u=Object.cloneDeep(t);return(0,r.default)(a).forEach(function(e){a.hasOwnProperty(e)&&(e in u?a[e]=u[e]:n||delete a[e])}),a},Object.mergeByModel=function(e){for(var t=Object.cloneDeep(e),n=arguments.length,a=Array(n>1?n-1:0),u=1;u<n;u++)a[u-1]=arguments[u];var o=Object.merge.apply(Object,a);return(0,r.default)(t).forEach(function(e){t.hasOwnProperty(e)&&e in o&&(t[e]=o[e])}),t},Object.mergeDeepByModel=function(e){for(var t=Object.cloneDeep(e),n=arguments.length,a=Array(n>1?n-1:0),u=1;u<n;u++)a[u-1]=arguments[u];var o=Object.mergeDeep.apply(Object,a);return(0,r.default)(t).forEach(function(e){t.hasOwnProperty(e)&&e in o&&(t[e]=o[e])}),t}},381:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createAsyncDataGuard=void 0;var r=o(n(79)),a=o(n(149)),u=o(n(80));function o(e){return e&&e.__esModule?e:{default:e}}t.default={};t.createAsyncDataGuard=function(e,t,n){return o=(0,u.default)(r.default.mark(function u(o,s,c){var i,l,f,d,p,v,h;return r.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(i=t.getMatchedComponents(o),l=t.getMatchedComponents(s),f=!1,(d=i.filter(function(e,t){return f||(f=l[t]!==e)})).length||d.push(i[i.length-1]),(p=d.map(function(e){return e.asyncData}).filter(function(e){return e})).length){r.next=10;break}return n.done(),e.dispatch("setErrorResponse"),r.abrupt("return",c());case 10:if(r.prev=10,!(v=p.map(function(t){return t({store:e,route:o})}).filter(function(e){return e})).length){r.next=19;break}if(!n.show||100!==n.progress){r.next=18;break}return h=void 0,r.next=17,new a.default(function(e){h=n.$watch("show",e)});case 17:h();case 18:n.start();case 19:return r.next=21,a.default.all(v);case 21:setTimeout(n.done),e.dispatch("setErrorResponse"),c(),r.next=32;break;case 26:r.prev=26,r.t0=r.catch(10),n.fail(),console.warn(r.t0),e.dispatch("setErrorResponse",r.t0),c();case 32:case"end":return r.stop()}},u,void 0,[[10,26]])})),function(e,t,n){return o.apply(this,arguments)};var o}}},[171]);