webpackJsonp([3],{386:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(393),l=o.n(n);for(var i in n)"default"!==i&&function(e){o.d(t,e,function(){return n[e]})}(i);var a=o(405);var d=function(e){o(403)},s=o(78)(l.a,a.a,!1,d,null,null);t.default=s.exports},393:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(o(79)),l=d(o(80)),i=d(o(113)),a=o(170);function d(e){return e&&e.__esModule?e:{default:e}}t.default={data:function(){return{disabled:!1,uploaded:[],loading:null}},mounted:function(){var e=this;document.querySelector("#dropzone").addEventListener("dragenter",function(e){document.querySelector("#dropzone").classList.add("active")}),document.querySelector("#dropzone").addEventListener("dragleave",function(e){e.preventDefault(),document.querySelector("#dropzone").classList.remove("active")}),document.querySelector("#dropzone").addEventListener("dragover",function(e){e.preventDefault(),document.querySelector("#dropzone").classList.add("active")}),document.querySelector("#dropzone").addEventListener("drop",function(t){t.preventDefault(),document.querySelector("#dropzone").classList.remove("active");var o=t.dataTransfer.files;e.uploadFile(o)})},beforeLeave:function(){document.querySelector("#dropzone").removeEventListener("dragenter"),document.querySelector("#dropzone").removeEventListener("dragleave"),document.querySelector("#dropzone").removeEventListener("dragover"),document.querySelector("#dropzone").removeEventListener("drop")},methods:(0,i.default)({},(0,a.mapActions)("download",["uploadForm"]),{uploadFile:function(e){this.disabled=!0;for(var t=this,o=function(o){var n=new FileReader;n.onload=function(n){n.target.result;t.uploaded.push({file:e[o],name:e[o].name.split(".")[0]})},n.readAsText(e[o])},n=0;n<e.length;n++)o(n)},deleteFile:function(e){this.uploaded.splice(e,1),this.disabled=!1},analize:function(){var e=this;return(0,l.default)(n.default.mark(function t(){var o;return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=new FormData,e.uploaded.map(function(e,t){o.append("file_"+t,e.file)}),t.next=4,e.uploadForm(o);case 4:t.sent.success&&(e.loading="end"),e.disabled=!1,e.uploaded=[];case 8:case"end":return t.stop()}},t,e)}))()}})}},403:function(e,t,o){var n=o(404);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);o(383)("219fa375",n,!0,{})},404:function(e,t,o){(e.exports=o(382)(!1)).push([e.i,'.download{width:100%;padding-top:60px}.download-block{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.download-block,.download-block__back{display:-webkit-box;display:-ms-flexbox;display:flex}.download-block__back{margin-bottom:50px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:#1c1e21;font-size:1.5rem;line-height:29px;font-weight:600}.download-block__back img{margin-right:16px}.download-block__form{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:3px dashed #3145f2;padding:105px 85px 75px;position:relative}.download-block__form#dropzone.active{opacity:.7}.download-block__form#dropzone.active:after{content:"";position:absolute;top:0;left:0;right:0;bottom:0;z-index:100;background-color:rgba(0,0,0,.2)}.download-block__form .icon{margin-bottom:30px}.download-block__form .title{color:#1c1e21;font-size:2.25rem;line-height:44px;font-weight:500;margin-bottom:25px}.download-block__form .or{width:100%;text-align:center;margin-bottom:25px;font-size:1.625rem;line-height:32px;color:#1c1e21}.download-block__form .btn input[type=file]{display:none}.download-block__files{margin-top:40px;width:100%;-webkit-box-shadow:8px 0 16px rgba(0,0,0,.25);box-shadow:8px 0 16px rgba(0,0,0,.25);padding:25px 0}.download-block__files,.download-block__files-content{-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.download-block__files,.download-block__files-content,.download-block__files-content .downloaded{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.download-block__files-content .downloaded{color:#1c1e21;font-size:1.5rem;font-weight:500;line-height:29px}.download-block__files-content .downloaded-list{margin-left:15px}.download-block__files-content .downloaded-list,.download-block__files-content .downloaded-list__item{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.download-block__files-content .downloaded-list__item{color:#3145f2;font-size:1.25rem;line-height:24px;font-weight:500}.download-block__files-content .downloaded-list__item .delete{display:none;cursor:pointer}.download-block__files-content .downloaded-list__item:hover .delete{display:block}.download-block__files-btns{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.download-block__files-btns .btn{margin-right:50px}.download-block__files-btns .link{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-size:1.375rem;line-height:27px;color:#3145f2}.download-block__files-btns .link img{margin-left:15px}',""])},405:function(e,t,o){"use strict";var n={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("section",{staticClass:"download"},[o("div",{staticClass:"wr"},[o("div",{staticClass:"download-block"},[o("router-link",{staticClass:"download-block__back",attrs:{to:"/"}},[o("img",{attrs:{src:"/img/icons/back.svg"}}),e._v("\n        Вернуться назад\n      ")]),o("div",{staticClass:"download-block__form",attrs:{id:"dropzone"}},[e._m(0),o("div",{staticClass:"title"},[e._v("\n          Перенесите файл в формате .exel с рабочего стола\n        ")]),o("div",{staticClass:"or"},[e._v("\n          или\n        ")]),o("div",{staticClass:"btn"},[o("input",{attrs:{type:"file",multiple:"",accept:".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",id:"uploadFile"},on:{change:function(t){return e.uploadFile(t.target.files)}}}),o("label",{staticClass:"btn selectFile",class:e.disabled?"disabled":"",attrs:{for:"uploadFile"}},[e._v("\n            Выбрать файл вручную\n          ")])])])],1)]),e.uploaded.length>0||"end"==e.loading?o("div",{staticClass:"download-block__files"},[o("div",{staticClass:"wr"},[null==e.loading||1==e.loading?o("div",{staticClass:"download-block__files-content"},[o("div",{staticClass:"downloaded"},[e._v("\n          Загружен "+e._s(e.uploaded.length)+" файла:\n          "),o("div",{staticClass:"downloaded-list"},e._l(e.uploaded,function(t,n){return o("div",{key:n,staticClass:"downloaded-list__item"},[e._v("\n              "+e._s(t.name)),o("span",{staticClass:"delete",on:{click:function(t){return e.deleteFile(n)}}},[o("img",{attrs:{src:"/img/icons/error.svg"}})]),e._v(e._s(n<e.uploaded.length-1?", ":"")+"\n            ")])}),0)]),o("div",{staticClass:"download-block__files-btns"},[o("button",{staticClass:"btn startAnalize",on:{click:function(t){return t.preventDefault(),e.analize()}}},[e._v("\n            Начать анализ\n          ")])])]):o("div",{staticClass:"download-block__files-btns"},[o("button",{staticClass:"btn startAnalize"},[e._v("\n          Скачать результат\n        ")]),o("router-link",{staticClass:"link",attrs:{to:"/analytics"}},[e._v("\n          Перейти в аналитику\n          "),o("img",{attrs:{src:"/img/icons/next.svg"}})])],1)])]):e._e()])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"icon"},[t("img",{attrs:{src:"/img/icons/excel.svg"}})])}]};t.a=n}});